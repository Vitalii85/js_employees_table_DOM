{"version":3,"sources":["scripts/main.js"],"names":["tableHeader","document","querySelector","columns","rows","cells","tableBody","sortIndex","addEventListener","e","column","target","closest","cellIndex","tableRows","sort","a","b","innerText","slice","split","join","localeCompare","reverse","append","row","activeRow","classList","remove","add","form","createElement","saveButonn","type","cell","label","input","name","dataset","qa","innerHTML","toLowerCase","addEmploee","value","length","pushNotification","toLocaleString","reset","posTop","posRight","title","description","message","messageTitle","messageDescription","style","top","right","body","setTimeout","hidden","preventDefault","matches","cellInput","index","oldData","focus","newData","enter","key","blur"],"mappings":"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","file":"main.764b9b5b.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tableHeader = document.querySelector('thead');\nconst columns = tableHeader.rows[0].cells;\nconst tableBody = document.querySelector('tbody');\nlet sortIndex = -1;\n\ntableHeader.addEventListener('click', e => {\n  const column = e.target.closest('th').cellIndex;\n  const tableRows = [...tableBody.rows];\n\n  tableRows.sort((a, b) => {\n    switch (columns[column].innerText) {\n      case 'Age':\n        return a.cells[column].innerText - b.cells[column].innerText;\n      case 'Salary':\n        return a.cells[column].innerText.slice(1).split(',').join('')\n          - b.cells[column].innerText.slice(1).split(',').join('');\n      default:\n        return a.cells[column].innerText\n          .localeCompare(b.cells[column].innerText);\n    }\n  });\n\n  if (sortIndex === column) {\n    sortIndex = -1;\n    tableRows.reverse();\n  } else {\n    sortIndex = column;\n  }\n\n  tableBody.append(...tableRows);\n});\n\ntableBody.addEventListener('click', e => {\n  const row = e.target.closest('tr');\n  const activeRow = tableBody.querySelector('.active');\n\n  if (activeRow) {\n    activeRow.classList.remove('active');\n  }\n\n  row.classList.add('active');\n});\n\nconst form = document.createElement('form');\nconst saveButonn = document.createElement('button');\n\nform.classList.add('new-employee-form');\nsaveButonn.innerText = 'Save to table';\nsaveButonn.type = 'submit';\n\nfor (const cell of columns) {\n  const label = document.createElement('label');\n  let input;\n\n  label.innerText = cell.innerText + ':';\n\n  switch (cell.innerText) {\n    case 'Age':\n      input = document.createElement('input');\n      input.name = 'age';\n      input.type = 'number';\n      input.dataset.qa = 'age';\n      break;\n    case 'Salary':\n      input = document.createElement('input');\n      input.name = 'salary';\n      input.type = 'number';\n      input.dataset.qa = 'salary';\n      break;\n    case 'Office':\n      input = document.createElement('select');\n      input.name = 'office';\n\n      input.innerHTML = `<option>Tokyo</option><option>Singapore</option>\n        <option>London</option><option>New York</option><option>Edinburgh\n        </option><option>San Francisco</option>`;\n      input.dataset.qa = 'office';\n      break;\n    default:\n      input = document.createElement('input');\n      input.name = cell.innerText.toLowerCase();\n      input.type = 'text';\n      input.dataset.qa = cell.innerText.toLowerCase();\n      break;\n  }\n\n  label.append(input);\n  form.append(label);\n}\n\nform.append(saveButonn);\ndocument.body.append(form);\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  addEmploee();\n});\n\nfunction addEmploee() {\n  const row = document.createElement('tr');\n\n  for (const cells of columns) {\n    const input = form.querySelector(`[name=${cells.innerText.toLowerCase()}]`);\n    const cell = document.createElement('td');\n\n    switch (cells.innerText.toLowerCase()) {\n      case 'name':\n        if (input.value.length < 4) {\n          return pushNotification(150, 10, 'Employee Name error',\n            'Employee Name should be 4 letters or more', 'error');\n        } else {\n          cell.innerText = input.value;\n        }\n        break;\n      case 'age':\n        if (input.value < 18 || input.value > 90) {\n          return pushNotification(250, 10, 'Employee Age error',\n            'Employee Age should be between 18 and 90', 'error');\n        } else {\n          cell.innerText = input.value;\n        }\n        break;\n      case 'salary':\n        if (input.value < 1) {\n          return pushNotification(350, 10, 'Employee Salary error',\n            'Employee Salary should be bigger than 0', 'error');\n        } else {\n          cell.innerText = '$' + (+input.value).toLocaleString('en-US');\n        }\n        break;\n      default:\n        if (input.value === '') {\n          return pushNotification(450, 10, 'Invalid input',\n            'Input all fields', 'error');\n        } else {\n          cell.innerText = input.value;\n        }\n        break;\n    }\n\n    row.append(cell);\n  }\n\n  tableBody.append(row);\n\n  pushNotification(10, 10, 'Employee successfully added',\n    'New Employee was successfully added to the table', 'success');\n\n  form.reset();\n}\n\nfunction pushNotification(posTop, posRight, title, description, type) {\n  const message = document.createElement('div');\n  const messageTitle = document.createElement('h2');\n  const messageDescription = document.createElement('p');\n\n  message.classList.add('notification', type);\n  message.dataset.qa = 'notification';\n  messageTitle.classList.add('title');\n  message.style.top = `${posTop}px`;\n  message.style.right = `${posRight}px`;\n  messageTitle.innerText = title;\n  messageDescription.innerText = description;\n  message.append(messageTitle, messageDescription);\n  document.body.append(message);\n\n  setTimeout(function() {\n    message.hidden = true;\n  }, 2000);\n}\n\ntableBody.addEventListener('dblclick', e => {\n  if (e.target.matches('input') || e.target.matches('select')) {\n    return;\n  }\n\n  const cell = e.target.closest('td');\n  const index = cell.cellIndex;\n  let cellInput;\n  const oldData = cell.innerText;\n\n  switch (columns[index].innerText) {\n    case 'Age':\n      cellInput = document.createElement('input');\n      cellInput.type = 'number';\n      cell.innerText = '';\n      cellInput.value = oldData;\n      break;\n    case 'Salary':\n      cell.innerText = '';\n      cellInput = document.createElement('input');\n      cellInput.type = 'number';\n      cellInput.value = oldData.slice(1).split(',').join('');\n      break;\n    case 'Office':\n      cell.innerText = '';\n      cellInput = document.createElement('select');\n\n      cellInput.innerHTML = `<option>Tokyo</option><option>Singapore</option>\n        <option>London</option><option>New York</option><option>Edinburgh\n        </option><option>San Francisco</option>`;\n      cellInput.value = oldData;\n      break;\n    default:\n      cellInput = document.createElement('input');\n      cellInput.type = 'text';\n      cell.innerText = '';\n      cellInput.value = oldData;\n      break;\n  }\n\n  cellInput.classList.add('cell-input');\n  cell.append(cellInput);\n  cellInput.focus();\n\n  cellInput.addEventListener('blur', () => {\n    const newData = cellInput.value;\n\n    cellInput.remove();\n\n    switch (columns[index].innerText) {\n      case 'Name':\n        if (newData.length < 4) {\n          cell.innerText = oldData;\n\n          return pushNotification(150, 10, 'Employee Name error',\n            'Employee Name should be 4 letters or more', 'error');\n        } else {\n          cell.innerText = newData;\n        }\n        break;\n      case 'Age':\n        if (newData < 18 || newData > 90) {\n          cell.innerText = oldData;\n\n          return pushNotification(250, 10, 'Employee Age error',\n            'Employee Age should be between 18 and 90', 'error');\n        } else {\n          cell.innerText = newData;\n        }\n        break;\n      case 'Salary':\n        if (newData < 1) {\n          cell.innerText = oldData;\n\n          return pushNotification(350, 10, 'Employee Salary error',\n            'Employee Salary should be bigger than 0', 'error');\n        } else {\n          cell.innerText = '$' + newData.toLocaleString('en-US');\n        }\n        break;\n      default:\n        if (newData === '') {\n          cell.innerText = oldData;\n\n          return pushNotification(450, 10, 'Invalid input',\n            'Input can\\'t be empy', 'error');\n        } else {\n          cell.innerText = newData;\n        }\n        break;\n    }\n\n    if (newData === oldData) {\n      return;\n    }\n\n    pushNotification(10, 10, 'Data successfully chenged',\n      'Data was successfully chenged', 'success');\n  });\n\n  cellInput.addEventListener('keydown', enter => {\n    if (enter.key === 'Enter') {\n      cellInput.blur();\n    }\n  });\n});\n"]}